{"hierarchy":{"paths":[["doc:\/\/SwiftUsd\/documentation\/OpenUSD"]]},"sections":[],"seeAlsoSections":[{"generated":true,"title":"New symbol documentation","anchor":"New-symbol-documentation","identifiers":["doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/DereferencingPointers","doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/CreatingPointers","doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/CheckingForValidity","doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/UsingEditContexts","doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/WorkingWithTfNotice","doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/WorkingWithTfErrorMark","doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/WorkingWithTfDiagnosticFacilities","doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/ConvenientExtensions","doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/TypeConversion"]}],"abstract":[{"text":"Learn how to use the ","type":"text"},{"code":"pxr::Work","type":"codeVoice"},{"text":" library for multithreading in Swift","type":"text"}],"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/UsingLibWork"},"metadata":{"modules":[{"name":"OpenUSD"}],"roleHeading":"Article","role":"article","title":"Using libWork"},"kind":"article","primaryContentSections":[{"kind":"content","content":[{"level":2,"text":"Overview","anchor":"Overview","type":"heading"},{"inlineContent":[{"type":"text","text":"OpenUSD provides the "},{"type":"reference","identifier":"https:\/\/openusd.org\/release\/api\/work_page_front.html","isActive":true},{"type":"text","text":" library to simplify C++ multithreading. A select portion of this API is available in Swift."}],"type":"paragraph"},{"content":[{"type":"paragraph","inlineContent":[{"text":"","type":"text"},{"type":"codeVoice","code":"Work"},{"text":" is backed by a different multithreading implementation than Swift Concurrency. In some cases, Swift Concurrency may be a better fit for a problem than using ","type":"text"},{"type":"codeVoice","code":"libWork"},{"text":" from Swift.","type":"text"}]}],"style":"note","name":"Note","type":"aside"},{"level":2,"text":"Detached tasks","anchor":"Detached-tasks","type":"heading"},{"inlineContent":[{"type":"text","text":"Use "},{"type":"reference","identifier":"doc:\/\/SwiftUsd\/documentation\/OpenUSD\/C++\/pxr\/WorkRunDetachedTask(_:)","isActive":true,"overridingTitle":"pxr.WorkRunDetachedTask(_:)","overridingTitleInlineContent":[{"code":"pxr.WorkRunDetachedTask(_:)","type":"codeVoice"}]},{"type":"text","text":" to invoke a closure asynchronously."}],"type":"paragraph"},{"level":2,"text":"Loops","anchor":"Loops","type":"heading"},{"inlineContent":[{"type":"text","text":"Use "},{"type":"reference","overridingTitleInlineContent":[{"type":"codeVoice","code":"pxr.WorkSerialForN(_:_:)"}],"identifier":"doc:\/\/SwiftUsd\/documentation\/OpenUSD\/C++\/pxr\/WorkSerialForN(_:_:)","isActive":true,"overridingTitle":"pxr.WorkSerialForN(_:_:)"},{"type":"text","text":" to easily temporarily turn off multithreading of a parallel loop for easier debugging."}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"Use "},{"overridingTitleInlineContent":[{"code":"pxr.WorkParallelForN(_:_:)","type":"codeVoice"}],"isActive":true,"type":"reference","identifier":"doc:\/\/SwiftUsd\/documentation\/OpenUSD\/C++\/pxr\/WorkParallelForN(_:_:)","overridingTitle":"pxr.WorkParallelForN(_:_:)"},{"type":"text","text":" to run a closure in parallel over a range."}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"Use "},{"isActive":true,"overridingTitleInlineContent":[{"type":"codeVoice","code":"pxr.WorkParallelForEach(_:_:)"}],"type":"reference","identifier":"doc:\/\/SwiftUsd\/documentation\/OpenUSD\/C++\/pxr\/WorkParallelForEach(_:_:)","overridingTitle":"pxr.WorkParallelForEach(_:_:)"},{"type":"text","text":" to run a closure in parallel over a collection."}],"type":"paragraph"},{"level":2,"text":"Reduce","anchor":"Reduce","type":"heading"},{"inlineContent":[{"text":"Use ","type":"text"},{"isActive":true,"identifier":"doc:\/\/SwiftUsd\/documentation\/OpenUSD\/C++\/pxr\/WorkParallelReduceN(_:_:_:_:)","overridingTitle":"pxr.WorkParallelReduceN(_:_:_:_:)","type":"reference","overridingTitleInlineContent":[{"code":"pxr.WorkParallelReduceN(_:_:_:_:)","type":"codeVoice"}]},{"text":" to map and reduce a range in parallel.","type":"text"}],"type":"paragraph"}]}],"schemaVersion":{"major":0,"minor":3,"patch":0},"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/swiftusd\/usinglibwork"]},{"traits":[{"interfaceLanguage":"occ"}],"paths":["\/documentation\/swiftusd\/usinglibwork"]}],"references":{"doc://SwiftUsd/documentation/SwiftUsd/TypeConversion":{"url":"\/documentation\/swiftusd\/typeconversion","title":"Type conversion","kind":"article","role":"collectionGroup","abstract":[],"type":"topic","identifier":"doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/TypeConversion"},"doc://SwiftUsd/documentation/SwiftUsd/UsingEditContexts":{"url":"\/documentation\/swiftusd\/usingeditcontexts","type":"topic","identifier":"doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/UsingEditContexts","abstract":[{"type":"text","text":"Using "},{"type":"codeVoice","code":"pxr.UsdEditContext"},{"type":"text","text":" in Swift"}],"kind":"article","role":"collectionGroup","title":"Using edit contexts"},"doc://SwiftUsd/documentation/OpenUSD/C++/pxr/WorkParallelForEach(_:_:)":{"identifier":"doc:\/\/SwiftUsd\/documentation\/OpenUSD\/C++\/pxr\/WorkParallelForEach(_:_:)","url":"\/documentation\/openusd\/c++\/pxr\/workparallelforeach(_:_:)","title":"WorkParallelForEach(_:_:)","abstract":[{"type":"text","text":"Runs "},{"type":"codeVoice","code":"closure"},{"type":"text","text":" in parallel over the elements in "},{"type":"codeVoice","code":"collection"}],"type":"topic","kind":"symbol","fragments":[{"kind":"keyword","text":"static"},{"kind":"text","text":" "},{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"WorkParallelForEach"},{"kind":"text","text":"<"},{"kind":"genericParameter","text":"C"},{"kind":"text","text":">("},{"kind":"typeIdentifier","text":"C","preciseIdentifier":"s:So021pxrInternal_v0_25_8__A10Reserved__O7OpenUSDE19WorkParallelForEachyyx_y7ElementQzYbXEtSlRzlFZ1CL_xmfp"},{"kind":"text","text":", ("},{"kind":"typeIdentifier","text":"C","preciseIdentifier":"s:So021pxrInternal_v0_25_8__A10Reserved__O7OpenUSDE19WorkParallelForEachyyx_y7ElementQzYbXEtSlRzlFZ1CL_xmfp"},{"kind":"text","text":"."},{"kind":"typeIdentifier","text":"Element","preciseIdentifier":"s:ST7ElementQa"},{"kind":"text","text":") -> ())"}],"role":"symbol"},"doc://SwiftUsd/documentation/SwiftUsd/WorkingWithTfDiagnosticFacilities":{"type":"topic","identifier":"doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/WorkingWithTfDiagnosticFacilities","title":"Working with Tf Diagnostic Facilities","role":"collectionGroup","abstract":[{"type":"text","text":"Learn how to use the Tf diagnostic facilities in Swift"}],"kind":"article","url":"\/documentation\/swiftusd\/workingwithtfdiagnosticfacilities"},"doc://SwiftUsd/documentation/SwiftUsd/CheckingForValidity":{"title":"Checking for validity","type":"topic","kind":"article","abstract":[{"text":"Checking for ","type":"text"},{"type":"codeVoice","code":"IsValid()"},{"text":" and null pointers in Swift","type":"text"}],"identifier":"doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/CheckingForValidity","role":"article","url":"\/documentation\/swiftusd\/checkingforvalidity"},"doc://SwiftUsd/documentation/SwiftUsd/CreatingPointers":{"identifier":"doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/CreatingPointers","type":"topic","kind":"article","title":"Creating pointers","abstract":[{"type":"text","text":"Creating "},{"type":"codeVoice","code":"pxr.TfRefPtr"},{"text":" and ","type":"text"},{"type":"codeVoice","code":"pxr.TfWeakPtr"},{"text":" in Swift","type":"text"}],"role":"collectionGroup","url":"\/documentation\/swiftusd\/creatingpointers"},"doc://SwiftUsd/documentation/SwiftUsd/DereferencingPointers":{"identifier":"doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/DereferencingPointers","kind":"article","url":"\/documentation\/swiftusd\/dereferencingpointers","abstract":[{"type":"text","text":"Safely dereferencing "},{"type":"codeVoice","code":"pxr.TfRefPtr"},{"type":"text","text":" and "},{"type":"codeVoice","code":"pxr.TfWeakPtr"},{"type":"text","text":" in Swift"}],"title":"Dereferencing pointers","role":"collectionGroup","type":"topic"},"doc://SwiftUsd/documentation/SwiftUsd/WorkingWithTfErrorMark":{"url":"\/documentation\/swiftusd\/workingwithtferrormark","title":"Working with TfErrorMark","kind":"article","type":"topic","abstract":[{"type":"text","text":"Learn how to use TfErrorMark in Swift"}],"role":"article","identifier":"doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/WorkingWithTfErrorMark"},"https://openusd.org/release/api/work_page_front.html":{"titleInlineContent":[{"text":"Work","type":"text"}],"type":"link","identifier":"https:\/\/openusd.org\/release\/api\/work_page_front.html","url":"https:\/\/openusd.org\/release\/api\/work_page_front.html","title":"Work"},"doc://SwiftUsd/documentation/OpenUSD/C++/pxr/WorkRunDetachedTask(_:)":{"title":"WorkRunDetachedTask(_:)","role":"symbol","kind":"symbol","fragments":[{"text":"static","kind":"keyword"},{"text":" ","kind":"text"},{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"WorkRunDetachedTask","kind":"identifier"},{"text":"(() -> ())","kind":"text"}],"type":"topic","abstract":[{"text":"Invoke ","type":"text"},{"code":"closure","type":"codeVoice"},{"text":" asynchronously, discard any errors it produces, and provide","type":"text"},{"text":" ","type":"text"},{"text":"no way to wait for it to complete.","type":"text"}],"identifier":"doc:\/\/SwiftUsd\/documentation\/OpenUSD\/C++\/pxr\/WorkRunDetachedTask(_:)","url":"\/documentation\/openusd\/c++\/pxr\/workrundetachedtask(_:)"},"doc://SwiftUsd/documentation/SwiftUsd/WorkingWithTfNotice":{"url":"\/documentation\/swiftusd\/workingwithtfnotice","abstract":[{"type":"text","text":"Learn how to use the TfNotice notification subsystem in Swift"}],"type":"topic","identifier":"doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/WorkingWithTfNotice","kind":"article","title":"Working with TfNotice","role":"article"},"doc://SwiftUsd/documentation/SwiftUsd/ConvenientExtensions":{"url":"\/documentation\/swiftusd\/convenientextensions","abstract":[{"text":"Extensions that make OpenUSD nicer to use in Swift","type":"text"}],"type":"topic","role":"collectionGroup","title":"Convenient extensions","kind":"article","identifier":"doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/ConvenientExtensions"},"doc://SwiftUsd/documentation/OpenUSD":{"abstract":[],"identifier":"doc:\/\/SwiftUsd\/documentation\/OpenUSD","kind":"symbol","title":"OpenUSD","type":"topic","role":"collection","url":"\/documentation\/openusd"},"doc://SwiftUsd/documentation/OpenUSD/C++/pxr/WorkSerialForN(_:_:)":{"identifier":"doc:\/\/SwiftUsd\/documentation\/OpenUSD\/C++\/pxr\/WorkSerialForN(_:_:)","type":"topic","role":"symbol","url":"\/documentation\/openusd\/c++\/pxr\/workserialforn(_:_:)","kind":"symbol","title":"WorkSerialForN(_:_:)","fragments":[{"text":"static","kind":"keyword"},{"text":" ","kind":"text"},{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"WorkSerialForN","kind":"identifier"},{"text":"(","kind":"text"},{"text":"Int","kind":"typeIdentifier","preciseIdentifier":"s:Si"},{"text":", (","kind":"text"},{"text":"_","kind":"externalParam"},{"text":" ","kind":"text"},{"text":"begin","kind":"internalParam"},{"text":": ","kind":"text"},{"text":"Int","kind":"typeIdentifier","preciseIdentifier":"s:Si"},{"text":", ","kind":"text"},{"text":"_","kind":"externalParam"},{"text":" ","kind":"text"},{"text":"end","kind":"internalParam"},{"text":": ","kind":"text"},{"text":"Int","kind":"typeIdentifier","preciseIdentifier":"s:Si"},{"text":") -> ())","kind":"text"}],"abstract":[{"text":"A serial version of WorkParallelForN as a drop in replacement to","type":"text"},{"text":" ","type":"text"},{"text":"selectively turn off multithreading for a single parallel loop for easier","type":"text"},{"text":" ","type":"text"},{"text":"debugging.","type":"text"}]},"doc://SwiftUsd/documentation/OpenUSD/C++/pxr/WorkParallelForN(_:_:)":{"abstract":[{"text":"Runs ","type":"text"},{"code":"closure","type":"codeVoice"},{"text":" in parallel over the range 0 to n.","type":"text"}],"url":"\/documentation\/openusd\/c++\/pxr\/workparallelforn(_:_:)","title":"WorkParallelForN(_:_:)","kind":"symbol","identifier":"doc:\/\/SwiftUsd\/documentation\/OpenUSD\/C++\/pxr\/WorkParallelForN(_:_:)","fragments":[{"text":"static","kind":"keyword"},{"text":" ","kind":"text"},{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"WorkParallelForN","kind":"identifier"},{"text":"(","kind":"text"},{"text":"Int","kind":"typeIdentifier","preciseIdentifier":"s:Si"},{"text":", (","kind":"text"},{"text":"_","kind":"externalParam"},{"text":" ","kind":"text"},{"text":"begin","kind":"internalParam"},{"text":": ","kind":"text"},{"text":"Int","kind":"typeIdentifier","preciseIdentifier":"s:Si"},{"text":", ","kind":"text"},{"text":"_","kind":"externalParam"},{"text":" ","kind":"text"},{"text":"end","kind":"internalParam"},{"text":": ","kind":"text"},{"text":"Int","kind":"typeIdentifier","preciseIdentifier":"s:Si"},{"text":") -> ())","kind":"text"}],"type":"topic","role":"symbol"},"doc://SwiftUsd/documentation/OpenUSD/C++/pxr/WorkParallelReduceN(_:_:_:_:)":{"kind":"symbol","role":"symbol","title":"WorkParallelReduceN(_:_:_:_:)","abstract":[{"text":"Recursively splits the range [0, ","type":"text"},{"type":"codeVoice","code":"n"},{"text":") into subranges, which are then","type":"text"},{"text":" ","type":"text"},{"text":"reduced by invoking ","type":"text"},{"type":"codeVoice","code":"loopCallback"},{"text":" in parallel.","type":"text"}],"url":"\/documentation\/openusd\/c++\/pxr\/workparallelreducen(_:_:_:_:)","fragments":[{"kind":"keyword","text":"static"},{"kind":"text","text":" "},{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"WorkParallelReduceN"},{"kind":"text","text":"<"},{"kind":"genericParameter","text":"T"},{"kind":"text","text":">("},{"kind":"typeIdentifier","preciseIdentifier":"s:So021pxrInternal_v0_25_8__A10Reserved__O7OpenUSDE19WorkParallelReduceNyxx_SixSi_SixtYbXExx_xtYbXEtlFZ1TL_xmfp","text":"T"},{"kind":"text","text":", "},{"kind":"typeIdentifier","preciseIdentifier":"s:Si","text":"Int"},{"kind":"text","text":", ("},{"kind":"typeIdentifier","preciseIdentifier":"s:Si","text":"Int"},{"kind":"text","text":", "},{"kind":"typeIdentifier","preciseIdentifier":"s:Si","text":"Int"},{"kind":"text","text":", "},{"kind":"typeIdentifier","preciseIdentifier":"s:So021pxrInternal_v0_25_8__A10Reserved__O7OpenUSDE19WorkParallelReduceNyxx_SixSi_SixtYbXExx_xtYbXEtlFZ1TL_xmfp","text":"T"},{"kind":"text","text":") -> "},{"kind":"typeIdentifier","preciseIdentifier":"s:So021pxrInternal_v0_25_8__A10Reserved__O7OpenUSDE19WorkParallelReduceNyxx_SixSi_SixtYbXExx_xtYbXEtlFZ1TL_xmfp","text":"T"},{"kind":"text","text":", ("},{"kind":"typeIdentifier","preciseIdentifier":"s:So021pxrInternal_v0_25_8__A10Reserved__O7OpenUSDE19WorkParallelReduceNyxx_SixSi_SixtYbXExx_xtYbXEtlFZ1TL_xmfp","text":"T"},{"kind":"text","text":", "},{"kind":"typeIdentifier","preciseIdentifier":"s:So021pxrInternal_v0_25_8__A10Reserved__O7OpenUSDE19WorkParallelReduceNyxx_SixSi_SixtYbXExx_xtYbXEtlFZ1TL_xmfp","text":"T"},{"kind":"text","text":") -> "},{"kind":"typeIdentifier","preciseIdentifier":"s:So021pxrInternal_v0_25_8__A10Reserved__O7OpenUSDE19WorkParallelReduceNyxx_SixSi_SixtYbXExx_xtYbXEtlFZ1TL_xmfp","text":"T"},{"kind":"text","text":") -> "},{"kind":"typeIdentifier","preciseIdentifier":"s:So021pxrInternal_v0_25_8__A10Reserved__O7OpenUSDE19WorkParallelReduceNyxx_SixSi_SixtYbXExx_xtYbXEtlFZ1TL_xmfp","text":"T"}],"type":"topic","identifier":"doc:\/\/SwiftUsd\/documentation\/OpenUSD\/C++\/pxr\/WorkParallelReduceN(_:_:_:_:)"}},"variantOverrides":[{"traits":[{"interfaceLanguage":"occ"}],"patch":[{"value":"occ","path":"\/identifier\/interfaceLanguage","op":"replace"},{"value":null,"path":"\/topicSections","op":"add"},{"value":[{"anchor":"New-symbol-documentation","title":"New symbol documentation","identifiers":["doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/DereferencingPointers","doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/CreatingPointers","doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/CheckingForValidity","doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/UsingEditContexts","doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/WorkingWithTfNotice","doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/WorkingWithTfErrorMark","doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/WorkingWithTfDiagnosticFacilities","doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/ConvenientExtensions","doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/TypeConversion"],"generated":true}],"path":"\/seeAlsoSections","op":"replace"}]}]}